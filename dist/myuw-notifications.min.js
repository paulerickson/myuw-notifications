!(function(){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function t(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function e(n){return(e=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function i(n,t){return(i=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function o(n,t,e){return(o=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}})()?Reflect.construct:function(n,t,e){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(n,o));return e&&i(r,e.prototype),r}).apply(null,arguments)}function r(n){var t="function"==typeof Map?new Map:void 0;return(r=function(n){if(null===n||(r=n,-1===Function.toString.call(r).indexOf("[native code]")))return n;var r;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(n))return t.get(n);t.set(n,a)}function a(){return o(n,arguments,e(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),i(a,n)})(n)}function a(n,t){return!t||"object"!=typeof t&&"function"!=typeof t?(function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n})(n):t}var s,l,c=(function(o){function s(){var n;return(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,s),(n=a(this,e(s).call(this))).attachShadow({mode:"open"}),n.shadowRoot.appendChild(s.template.content.cloneNode(!0)),n}var l,c,u;return(function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&i(n,t)})(s,r(HTMLElement)),l=s,u=[{key:"observedAttributes",get:function(){return["see-all-url"]}}],(c=[{key:"attributeChangedCallback",value:function(n,t,e){this[n]=e,this.updateAttribute(n)}},{key:"connectedCallback",value:function(){var n=this;this["see-all-url"]=this.getAttribute("see-all-url"),this.$list=this.shadowRoot.getElementById("list"),this.$bell=this.shadowRoot.getElementById("bell-button"),this.$count=this.shadowRoot.getElementById("count"),this.$wrapper=this.shadowRoot.getElementById("wrapper"),this.$seeAllWrapper=this.shadowRoot.getElementById("see-all"),this.$seeAllLink=document.createElement("a"),this.$emptyState=this.shadowRoot.getElementById("empty-state"),this.$notificationsCount=0,this["see-all-url"]&&(this.$seeAllLink.setAttribute("href",this["see-all-url"]),this.$seeAllLink.innerText="See all",this.$seeAllWrapper.appendChild(this.$seeAllLink)),document.addEventListener("myuw-has-notifications",function(t){t.detail.notifications?n.componentReady(t.detail.notifications):n.componentReady()},!1),window.addEventListener("click",function(t){n.$list.classList.contains("visible")&&(n.$list.classList.remove("visible"),n.$bell.setAttribute("aria-expanded","false"))}),this.$list.addEventListener("click",function(n){n.stopPropagation()}),this.$bell.addEventListener("click",function(t){t.stopPropagation(),n.$list.classList.toggle("visible"),n.$list.classList.contains("visible")?(n.$list.focus(),n.$bell.setAttribute("aria-expanded","true")):(n.$list.blur(),n.$bell.setAttribute("aria-expanded","false"))})}},{key:"updateAttribute",value:function(){}},{key:"componentReady",value:function(t){if("object"===n(t)&&t.length>0){var e,i,o,r,a,s,l;for(var c in this.$notificationsCount+=t.length,t){if(console.log(t[c]),!t[c].id)return;(e=document.createElement("li")).setAttribute("role","menuitem"),e.setAttribute("id","myuw-notification-id="+t[c].id),(i=document.createElement("div")).setAttribute("class","content"),(r=document.createElement("div")).setAttribute("class","actions"),(l=document.createElement("button")).setAttribute("class","dismiss"),l.setAttribute("aria-label","dismiss notification"),l.innerHTML='\n          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>\n            <path d="M0 0h24v24H0z" fill="none"/>\n          </svg>',l.addEventListener("click",this.dismissNotification.bind(this,t[c].id)),e.appendChild(i),t[c].title&&((o=document.createElement("p")).setAttribute("class","body"),o.innerText=t[c].title,i.appendChild(o)),i.appendChild(r),t[c].actionButton&&((a=document.createElement("a")).innerText=t[c].actionButton.label,a.setAttribute("href",t[c].actionButton.url),a.setAttribute("target","_blank"),a.setAttribute("rel","noopener noreferrer"),r.appendChild(a)),t[c].moreInfoButton&&((s=document.createElement("a")).innerText=t[c].moreInfoButton.label,s.setAttribute("class","flat"),s.setAttribute("href",t[c].moreInfoButton.url),s.setAttribute("target","_blank"),s.setAttribute("rel","noopener noreferrer"),r.appendChild(s)),e.appendChild(i),e.appendChild(l),this.$list.appendChild(e)}this.$bell.innerHTML='\n          <svg id="bell-icon" width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n            <path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/>\n          </svg>',this.$emptyState.classList.add("hidden")}}},{key:"dismissNotification",value:function(t){var e=new CustomEvent("myuw-notification-dismissed",{bubbles:!0,detail:{notificationId:t}});document.dispatchEvent(e),"object"===n(this.shadowRoot.getElementById("myuw-notification-id="+t))&&(this.shadowRoot.getElementById("myuw-notification-id="+t).style.display="none"),this.$notificationsCount--,this.$notificationsCount<=0&&(this.$emptyState.classList.remove("hidden"),this.$bell.innerHTML='\n          <svg id="bell-icon" width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n            <path d="M0 0h24v24H0z" fill="none"/><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"/>\n          </svg>')}}])&&t(l.prototype,c),u&&t(l,u),s})();c.template=(s='<style> :host([hidden]) {\n  display: none;\n}\n\n#wrapper {\n  position: var( --myuw-menu-wrapper-position, relative );\n  display: var( --myuw-menu-wrapper-display, inline-block );\n  margin: var( --myuw-menu-wrapper-margin, 0 6px );\n}\n\n#wrapper.hidden {\n  display: none;\n}\n\n#bell-button {\n  display: flex;\n  justify-content: var( --myuw-icon-button-justify, center );\n  align-content: var( --myuw-icon-button-align-content, center );\n  align-items: var( --myuw-icon-button-align-items, center );\n  position: relative;\n  cursor: pointer;\n  min-height: var( --myuw-icon-button-height, 42px );\n  min-width: var( --myuw-icon-button-width, 42px );\n  height: var( --myuw-icon-button-height, 42px );\n  width: var( --myuw-icon-button-width, 42px );\n  user-select: none;\n  outline: none;\n  padding: var( --myuw-icon-button-padding, 0 );\n  margin: var( --myuw-icon-button-padding, 0 6px );\n  border: var( --myuw-icon-button-border, 0 );\n  border-radius: var( --myuw-icon-border-radius, 50% );\n  background-color: var( --myuw-icon-button-bg, transparent );\n  -webkit-transition: var( --myuw-icon-button-transition, background-color .3s cubic-bezier(.35,0,.25,1) );\n  transition: var( --myuw-icon-button-transition, background-color .3s cubic-bezier(.35,0,.25,1) );\n}\n\n#bell-button:hover {\n  background-color: var( --myuw-icon-button-hover-bg, rgba(0,0,0,0.2) );\n}\n\n#bell-icon {\n  color: var(--myuw-primary-color, #fff);\n  fill: var(--myuw-primary-color, #fff);\n  height: var( --myuw-icon-button-icon-height, 30px );\n  width: var( --myuw-icon-button-icon-width, 30px );\n}\n\n#count {\n\n}\n\n#count.hidden {\n  display: none;\n}\n\n#list {\n  position: var( --myuw-menu-position, absolute );\n  top: var( --myuw-menu-position-top, 45px );\n  right: var( --myuw-menu-position-right, 0 );\n  min-width: var( --myuw-menu-width, 320px );\n  list-style: var( --myuw-menu-list-style, none );\n  margin: var( --myuw-menu-margin, 0 );\n  padding: var( --myuw-menu-padding, 0 );\n  font-size: var( --myuw-font-size, 14px );\n  z-index: var( --myuw-menu-depth, 101 );\n\n  transform-origin: var( --myuw-transform-origin, top right );\n  transform: var( --myuw-menu-transform, scale(0) );\n  opacity: var( --myuw-menu-opacity, 0 );\n  visibility: var( --myuw-menu-visibility, hidden );\n  transition: var( --myuw-menu-transition, visibility 0s, opacity .25s cubic-bezier(0.0, 0.0, 0.2, 1), transform .25s cubic-bezier(0.0, 0.0, 0.2, 1)  );\n\n  -webkit-box-shadow: var( --myuw-menu-shadow,  0 2px 4px -1px rgba(0,0,0,0.2), 0 4px 5px 0 rgba(0,0,0,0.14), 0 1px 10px 0 rgba(0,0,0,0.12) );\n  -moz-box-shadow:    var( --myuw-menu-shadow,  0 2px 4px -1px rgba(0,0,0,0.2), 0 4px 5px 0 rgba(0,0,0,0.14), 0 1px 10px 0 rgba(0,0,0,0.12) );\n  box-shadow:         var( --myuw-menu-shadow,  0 2px 4px -1px rgba(0,0,0,0.2), 0 4px 5px 0 rgba(0,0,0,0.14), 0 1px 10px 0 rgba(0,0,0,0.12) );\n}\n\n#list.visible {\n  transform: scale(1);\n  opacity: 1;\n  visibility: visible;\n}\n\n#list li,\n#list p {\n  padding: 0;\n  margin: 0;\n}\n\n::slotted(li) {\n  transition: var( --myuw-menu-item-transition, all .3s ease );\n  position: relative;\n  font-size: var( --myuw-menu-item-font-size, 15px );\n  font-family: var( --myuw-profile-font, var(--myuw-font, \'Montserrat\', \'Roboto\', Arial, sans-serif) );\n  padding: var( --myuw-menu-item-padding, 3px 16px );\n  color: var(--myuw-menu-color, rgba(0,0,0,0.87));\n  text-decoration: none;\n  background-color: var(--myuw-menu-item-bg-color, #f5f5f5 );\n  border-bottom: var(--myuw-menu-item-divider, 1px solid #e5e5e5 );\n  user-select: none;\n  outline: none;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n  flex-direction: row;\n  min-height: var( --myuw-menu-item-height, 48px );\n  height: var( --myuw-menu-item-height, 48px );\n  -webkit-align-content: center;\n  align-content: center;\n  -webkit-align-items: center;\n  align-items: center;\n  -webkit-box-pack: start;\n  -webkit-justify-content: flex-start;\n  justify-content: flex-start;\n}\n\n/* \n  Styles need to be duplicated separate from ::slotted in order for \n  Firefox to do it\'s job\n*/\n#list li {\n  transition: var( --myuw-menu-item-transition, all .3s ease );\n  position: relative;\n  font-size: var( --myuw-menu-item-font-size, 15px );\n  font-family: var( --myuw-profile-font, var(--myuw-font, \'Montserrat\', \'Roboto\', Arial, sans-serif) );\n  padding: var( --myuw-notification-padding, 12px 0 8px 16px );\n  color: var(--myuw-menu-color, rgba(0,0,0,0.87));\n  text-decoration: none;\n  background-color: var(--myuw-menu-item-bg-color, #f5f5f5 );\n  border-bottom: var(--myuw-menu-item-divider, 1px solid #e5e5e5 );\n  user-select: none;\n  outline: none;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n  flex-direction: row;\n  min-height: var( --myuw-menu-item-min-height, 48px );\n  height: var( --myuw-menu-item-height, auto );\n  -webkit-align-content: center;\n  align-content: center;\n  -webkit-align-items: center;\n  align-items: center;\n  justify-content: space-between;\n}\n\n::slotted(li:hover),\n::slotted(li:focus)  {\n  background-color: var( --myuw-menu-item-hover-bg, #ececec );\n}\n\n#list li:hover,\n#list li:focus {\n  background-color: var( --myuw-menu-item-hover-bg, #ececec );\n}\n\n#list #see-all {\n  display: flex;\n  font-size: 16px;\n  -webkit-box-pack: end;\n  -webkit-justify-content: flex-end;\n  justify-content: space-between;\n  -webkit-align-items: center;\n  align-items: center;\n  background-color: rgb(255,255,255);\n  border-bottom: none;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n  flex-direction: row;\n  min-height: var( --myuw-menu-item-min-height, 48px );\n  height: var( --myuw-menu-item-height, auto );\n  color: #222;\n  padding: 0 16px;\n}\n\n#list #see-all h1 {\n  font-size: 16px;\n  margin: 0;\n  font-weight: 400;\n}\n\n#list #see-all.hidden {\n  display: none;\n}\n\n#list #see-all:hover {\n  background-color: rgb(255,255,255);\n}\n\n#list .content {\n  width: var( --myuw-notification-content-width, 80% );\n  max-width: var( --myuw-notification-content-width, 80% );\n  -webkit-flex-direction: var( --myuw-notification-content-flex-direction, column );\n  flex-direction: var( --myuw-notification-content-flex-direction, column );\n}\n\n#list .content .source {\n  color: var( --myuw-link-color, #0479a8 );\n  font-weight: var( --myuw-notification-source-weight, 500 );\n  font-size: var( --myuw-notification-source-font-size, 12px );\n  display: block;\n  margin-bottom: 6px;\n}\n\n#list .content .body {\n  font-size: var( --myuw-notification-body-font-size, 15px );\n  margin-bottom: 6px;\n}\n\n#list .content .actions a {\n  /* general material button css */\n  display: inline-block;\n  position: relative;\n  cursor: pointer;\n  text-align: center;\n  border-radius: 3px;\n  border: 0;\n  padding: 0 6px;\n  margin: 6px 8px;\n  background: transparent;\n  white-space: nowrap;\n  overflow: hidden;\n  color: var( --myuw-accent-button-color, #fafafa );\n  background-color: var( --myuw-accent-button-bg, #0479a8 );\n  box-shadow: 0 2px 5px 0 rgba(0,0,0,.26);\n  -webkit-transition: box-shadow .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1);\n  transition: box-shadow .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1);\n  text-decoration: none;\n  /* notifications-specific css */\n  line-height: 28px;\n  min-width: 60px;\n  min-height: 28px;\n  font-size: 12px;\n  font-weight: 500;\n  margin-left: 0;\n}\n\n#list .content .actions a:hover {\n  background-color: var( --myuw-accent-button-hover-bg, rgb(3,78,108) );\n}\n\n#list .content .actions a.flat {\n  box-shadow: none;\n  background-color: transparent;\n  color: #222;\n}\n\n#list .content .actions a.flat:hover {\n  background-color: #0000001c;\n}\n\n#list li .dismiss {\n  display: flex;\n  justify-content: var( --myuw-icon-button-justify, center );\n  align-content: var( --myuw-icon-button-align-content, center );\n  align-items: var( --myuw-icon-button-align-items, center );\n  position: relative;\n  cursor: pointer;\n  min-height: var( --myuw-icon-button-height, 42px );\n  min-width: var( --myuw-icon-button-width, 42px );\n  height: var( --myuw-icon-button-height, 42px );\n  width: var( --myuw-icon-button-width, 42px );\n  max-width: var( --myuw-notification-dismiss-width, 20% );\n  user-select: none;\n  outline: none;\n  padding: var( --myuw-icon-button-padding, 0 );\n  margin: var( --myuw-icon-button-padding, 0 6px );\n  border: var( --myuw-icon-button-border, 0 );\n  background-color: var( --myuw-icon-button-bg, transparent );\n}\n\n#list li .dismiss svg {\n  fill: var( --myuw-notification-dismiss-color, rgba(0,0,0,0.54) );\n  -webkit-transition: color .3s cubic-bezier(.35,0,.25,1);\n  transition: color .3s cubic-bezier(.35,0,.25,1);\n}\n\n#list li .dismiss svg:hover {\n  fill: var( --myuw-notification-dismiss-hover-color, #333 );\n}\n\n#list #empty-state {\n  justify-content: center;\n  align-items: center;\n  font-size: 16px;\n  min-height: 140px;\n  color: #696969;\n}\n\n#list #empty-state.hidden {\n  display: none;\n}\n\n@media all and (min-width: 841px) {\n  #list {\n    width: 525px;\n  }\n} </style> <div id="wrapper"> <button id="bell-button" aria-label="notifications list" aria-haspopup="true" aria-controls="list" aria-expanded="false"> \x3c!-- bell svg --\x3e <svg id="bell-icon" width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"/></svg> <span id="count" class="hidden"></span> </button> <ul id="list" role="menu" tabindex="-1" aria-labelledby="bell-button"> <div id="see-all"> <h1>Notifications</h1> </div> \x3c!-- menu items for each notification --\x3e \x3c!-- empty state --\x3e <li id="empty-state"> <slot name="myuw-notifications-empty"></slot> </li> </ul> </div> ',l=document.createElement("template"),l.innerHTML=s,l),(function(){if("function"==typeof window.CustomEvent)return!1;function n(n,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var e=document.createEvent("CustomEvent");return e.initCustomEvent(n,t.bubbles,t.cancelable,t.detail),e}n.prototype=window.Event.prototype,window.CustomEvent=n})(),window.customElements.define("myuw-notifications",c)})();
